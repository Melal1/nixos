# Hyprland Configuration Filehyo
#
# See https://wiki.hyprland.org/Configuring/ for full documentation

################
### MONITORS ###
################
# monitor = eDP-1, highres@highrr, auto, 1

source = ~/.config/hypr/workspaces.conf
source = ~/.config/hypr/monitors.conf
source = ~/.config/hypr/decorration.conf
###################
### MY PROGRAMS ###
###################
$terminal = ghostty
$fileManager = ghostty --command='fish -C y'
$browser = zen
$menu = vicinae toggle
$alt_menu = rofi -show run
$clipboard = vicinae vicinae://extensions/vicinae/clipboard/history
$windows =  vicinae vicinae://extensions/vicinae/wm/switch-windows

#################
### AUTOSTART ###
#################
exec-once = sleep 0.2 ; waybar ;pkill -SIGUSR1 waybar
exec-once =swww-daemon ; wallSet ~/Pictures/Wall/ 1
exec-once = vicinae server

#############################
### ENVIRONMENT VARIABLES ###
#############################
env = HYPRCURSOR_THEME,Mycursor
env = HYPRCURSOR_SIZE,24
env = XCURSOR_THEME,macOS
env = XCURSOR_SIZE, 48
#####################
### LOOK AND FEEL ###
#####################


  

# animations {
#     enabled = 1
#     # Bezier curves: NAME, X0, Y0, X1, Y1
#     bezier = default, 0, 1, 0, 1
#     bezier = wind, 0.05, 0.69, 0.1, 1
#     bezier = winIn, 0.1, 1.1, 0.1, 1
#     bezier = winOut, 0.3, 1, 0, 1
#     bezier = linear, 1, 1, 1, 1
#     bezier = easeOut, 0.16, 1, 0.3, 1
#
#     # Animation settings: NAME, ONOFF, SPEED, CURVE, STYLE
#     $interval = 3
#     $curve = easeOut
#     animation = windowsIn, 1, $interval, $curve, slide
#     animation = windowsOut, 1, $interval, $curve, slide
#     animation = windowsMove, 1, $interval, $curve, slide
#     animation = workspaces, 1, 10, $curve, slide
#     animation = layers, 0, 6.9, $curve, slide
# }

animations {
    enabled = 1
    bezier = default, 0.12, 0.92, 0.08, 1.0
    bezier = wind, 0.12, 0.92, 0.08, 1.0
    bezier = overshot, 0.18, 0.95, 0.22, 1.03
    bezier = liner, 1, 1, 1, 1
    bezier = easeOut, 0.16, 1, 0.3, 1

    animation = windows, 1, 5, wind, popin 60%
    animation = windowsIn, 1, 3, easeOut, slide
    animation = windowsOut, 1, 4, overshot, popin 60%
    animation = windowsMove, 1, 4, overshot, slide
    animation = layers, 1, 4, default, popin
    animation = fadeIn, 1, 7, default
    animation = fadeOut, 1, 7, default
    animation = fadeSwitch, 1, 7, default
    animation = fadeShadow, 1, 7, default
    animation = fadeDim, 1, 7, default
    animation = fadeLayers, 1, 7, default
    animation = workspaces, 1, 5, overshot, slidevert
    animation = border, 1, 1, liner
    animation = borderangle, 1, 24, liner, loop
}

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    enable_swallow = true
    swallow_regex  = ^(com.mitchellh.ghostty)$
    vfr = true
}

#############
### INPUT ###
#############
input {
    kb_layout = us, ara
    kb_options = grp:alt_space_toggle, caps:escape
    repeat_delay = 200
    follow_mouse = 1
    sensitivity = 0
    touchpad {
        natural_scroll = false
    }
}

gestures {
    workspace_swipe = false
}

device {

}

###################
### KEYBINDINGS ###
###################
$mainMod = SUPER  # Changed from ALT to SUPER

# Multimedia keys

binde =$mainMod , F1, exec, audio vol down 5           # Volume down
binde =$mainMod , F2, exec, audio vol up 5             # Volume up
binde =$mainMod , F3, exec, audio vol toggle           # Mute toggle

bindel =$mainMod , F4, exec, bright down               # Brightness down
bindel =$mainMod , F5, exec, bright up                 # Brightness up
bindl =$mainMod , F6, exec, playerctl previous         # Previous track
bindl =$mainMod , F7, exec, playerctl play-pause       # Play/Pause toggle
bindl =$mainMod , F8, exec, playerctl next             # Next track

bindel = $mainMod ALT, o, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor * 1.25}')"
bindel = $mainMod ALT, p, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor / 1.25}')"

# Switch headset profile and mute mic

bind = $mainMod SHIFT , F1, exec, audio profile handsfree
bind = $mainMod SHIFT , F2, exec, audio profile stereo
bind = $mainMod SHIFT , F3, exec, audio mic toggle

# Program launches
bind = $mainMod, Q, exec, $terminal
bind = $mainMod SHIFT, T, exec, pkill -SIGUSR1 waybar
bind = $mainMod, F, exec, $browser
bind = $mainMod, E, exec, $fileManager
bindr = $mainMod, R, exec, $menu
bindr = $mainMod SHIFT, R, exec, $alt_menu
bind = SUPER, V, exec, $clipboard
bind = $mainMod,w,exec, vicinae vicinae://extensions/vicinae/wm/switch-windows
bind = $mainMod SHIFT, p, exec, if pgrep -x "wlogout" > /dev/null; then pkill -x "wlogout"; else wlogout; fi



# Screenshots
bind = $mainMod ,F9 , exec, if area=$(slurp); then grim -g "$area" - | tee >(wl-copy) > ~/Pictures/Screenshots/Screenshot-$(date +%F_%T).png && dunstify "Screenshot of the region taken" -t 1000; fi
bind =$mainMod SHIFT , F9, exec, grim - | wl-copy && wl-paste > ~/Pictures/Screenshots/Screenshot-$(date +%F_%T).png && dunstify "Screenshot of the whole screen taken" -t 1000

# Window management
bind = $mainMod, C, killactive
bind = $mainMod SHIFT, V, exec ,  hyprctl dispatch togglefloating && \
    hyprctl dispatch resizeactive exact 1200 700 && \
    hyprctl dispatch centerwindow
bind = $mainMod, P, fullscreenstate, 2
bind = $mainMod, I, togglesplit
bind = $mainMod, M, exec, hyprctl dispatch exit  # Consider 'exec, hyprctl dispatch exit' for cleaner shutdown


# Focus movement
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d
bindel = $mainMod SHIFT, l, resizeactive, 20 0
bindel = $mainMod SHIFT, h, resizeactive, -20 0
bindel = $mainMod SHIFT, k, resizeactive, 0 -20
bindel = $mainMod SHIFT, j, resizeactive, 0 20

# Workspace switching
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9


# Move windows to workspaces
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9


# Special workspace (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Mouse bindings
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

##############################
### WINDOWS AND WORKSPACES ###
##############################
