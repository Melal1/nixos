# Hyprland Configuration File
#
# See https://wiki.hyprland.org/Configuring/ for full documentation

################
### MONITORS ###
################

source = ~/.config/hypr/workspaces.conf
source = ~/.config/hypr/monitors.conf
source = ~/.config/hypr/decorration.conf
###################
### MY PROGRAMS ###
###################
$terminal = kitty
$fileManager = dolphin
$browser = zen
$menu = rofi -show run # Simplified from original commented-out menu command

#################
### AUTOSTART ###
#################
exec-once = sleep 0.2 ; waybar ;pkill -SIGUSR1 waybar
exec-once = wallSet
exec-once = clipse -listen # run listener on startup
# exec-once = [workspace 8 silent] zen && sleep 5 && zen https://tasks.google.com/u/2/tasks/

#############################
### ENVIRONMENT VARIABLES ###
#############################
env = HYPRCURSOR_THEME,Mycursor
env = HYPRCURSOR_SIZE,24
env = XCURSOR_THEME,macOS
env = XCURSOR_SIZE,24
#####################
### LOOK AND FEEL ###
#####################


  

animations {
    enabled = 1
    # Bezier curves: NAME, X0, Y0, X1, Y1
    bezier = default, 0, 1, 0, 1
    bezier = wind, 0.05, 0.69, 0.1, 1
    bezier = winIn, 0.1, 1.1, 0.1, 1
    bezier = winOut, 0.3, 1, 0, 1
    bezier = linear, 1, 1, 1, 1
    bezier = easeOut, 0.16, 1, 0.3, 1

    # Animation settings: NAME, ONOFF, SPEED, CURVE, STYLE
    $interval = 3
    $curve = easeOut
    animation = windowsIn, 1, $interval, $curve, slide
    animation = windowsOut, 1, $interval, $curve, slide
    animation = windowsMove, 1, $interval, $curve, slide
    animation = workspaces, 1, 10, $curve, slide
    animation = layers, 0, 6.9, $curve, slide
}

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    enable_swallow = true
    swallow_regex  = ^(kitty)$
    vfr = true
}

#############
### INPUT ###
#############
input {
    kb_layout = us, ara
    kb_options = grp:alt_space_toggle, caps:escape
    repeat_delay = 200
    follow_mouse = 1
    sensitivity = 0
    touchpad {
        natural_scroll = false
    }
}

gestures {
    workspace_swipe = false
}

device {

}

###################
### KEYBINDINGS ###
###################
$mainMod = SUPER  # Changed from ALT to SUPER

# Multimedia keys

binde = , XF86AudioRaiseVolume, exec, audio vol up 5
binde = , XF86AudioLowerVolume, exec, audio vol down 5
binde = , XF86AudioMute, exec, audio vol toggle
bindel = , XF86MonBrightnessUp, exec, bright up
bindel = , XF86MonBrightnessDown, exec, bright down
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous
bindel = $mainMod ALT, o, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor * 1.25}')"
bindel = $mainMod ALT, p, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor / 1.25}')"
bind = $mainMod ALT, b ,exec , ~/opt.sh

# Program launches
bind = $mainMod, Q, exec, $terminal
bind = $mainMod SHIFT, T, exec, pkill -SIGUSR1 waybar
bind = $mainMod, F, exec, $browser
bind = $mainMod, E, exec, $fileManager
bindr = $mainMod, R, exec, $menu
bind = SUPER, V, exec,  kitty --class clipse -e 'clipse'
bind = $mainMod SHIFT, p, exec, if pgrep -x "wlogout" > /dev/null; then pkill -x "wlogout"; else wlogout; fi



# Screenshots
bind = , Print, exec, if area=$(slurp); then grim -g "$area" - | tee >(wl-copy) > ~/Picture/screenshots/Screenshot-$(date +%F_%T).png && dunstify "Screenshot of the region taken" -t 1000; fi
bind = SHIFT, Print, exec, grim - | wl-copy && wl-paste > ~/Picture/screenshots/Screenshot-$(date +%F_%T).png && dunstify "Screenshot of the whole screen taken" -t 1000

# Window management
bind = $mainMod, C, killactive
bind = $mainMod SHIFT, V, togglefloating
bind = $mainMod, P, fullscreenstate, 2
bind = $mainMod, I, togglesplit
bind = $mainMod, M, exec , hyprctl dispacth exit


# Focus movement
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d
bindel = $mainMod SHIFT, l, resizeactive, 20 0
bindel = $mainMod SHIFT, h, resizeactive, -20 0
bindel = $mainMod SHIFT, k, resizeactive, 0 -20
bindel = $mainMod SHIFT, j, resizeactive, 0 20

# Workspace switching
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9


# Move windows to workspaces
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9


# Special workspace (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Mouse bindings
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

##############################
### WINDOWS AND WORKSPACES ###
##############################

